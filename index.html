<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKULLAF</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        /* ─── Cursor: desktop only ─── */
        
        @media (hover: hover) and (pointer: fine) {
            * {
                cursor: none !important;
            }
        }
        
        body {
            background: #000;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: #fff;
            overflow-x: hidden;
        }
        /* ─── Custom Cursor ─── */
        
        #customCursor {
            position: fixed;
            width: 8px;
            height: 8px;
            background: #fff;
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            transition: transform 0.1s ease;
            display: none;
        }
        
        @media (hover: hover) and (pointer: fine) {
            #customCursor {
                display: block;
            }
        }
        
        #customCursor.clicking {
            transform: scale(1.5);
        }
        /* ─── Terminal ─── */
        
        #terminal {
            width: 90%;
            max-width: 1200px;
            padding: 40px;
            font-size: 20px;
            line-height: 1.8;
            letter-spacing: 0.5px;
            position: relative;
            white-space: nowrap;
            overflow-x: auto;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'JetBrains Mono', monospace;
            transition: opacity 0.3s ease;
        }
        
        .line {
            position: relative;
            display: inline-block;
            white-space: nowrap;
        }
        
        .prompt {
            color: #646669;
            display: inline-block;
        }
        
        .command-text {
            color: #d1d0c5;
            display: inline-block;
        }
        
        .caret {
            display: inline-block;
            width: 2px;
            height: 1.3em;
            background: #fff;
            vertical-align: text-bottom;
            margin-left: 2px;
            animation: smoothBlink 1s ease-in-out infinite;
        }
        
        @keyframes smoothBlink {
            0%,
            100% {
                opacity: 1;
            }
            50% {
                opacity: 0.2;
            }
        }
        /* ─── Flash ─── */
        
        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            opacity: 0;
            pointer-events: none;
            z-index: 999;
        }
        
        .flash.active {
            animation: singleFlash 0.4s ease-out;
        }
        
        @keyframes singleFlash {
            0% {
                opacity: 0;
            }
            30% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        /* ─── Loading Screen ─── */
        
        #loadingScreen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #000;
            z-index: 1000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
        }
        
        #loadingScreen.show {
            display: flex;
            animation: fadeInLoading 0.6s ease-in forwards;
        }
        
        @keyframes fadeInLoading {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .logo {
            font-size: 120px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 60px;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            letter-spacing: 8px;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .loading-bar-container {
            width: 500px;
            height: 4px;
            background: #222;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .loading-bar {
            height: 100%;
            background: #fff;
            width: 0%;
            animation: loadingProgress 2s ease-in-out forwards;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        @keyframes loadingProgress {
            0% {
                width: 0%;
            }
            100% {
                width: 100%;
            }
        }
        
        .loading-text {
            margin-top: 20px;
            font-size: 14px;
            color: #646669;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-family: 'JetBrains Mono', monospace;
        }
        /* ─── Profile Page ─── */
        
        #profile {
            display: none;
            width: 100%;
            min-height: 100vh;
            background: #000;
        }
        
        #profile.active {
            display: block;
            animation: fadeInLoading 0.6s ease-in forwards;
        }
        /* ─── Header ─── */
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 70px;
        }
        
        .nav-links {
            display: flex;
            gap: 50px;
            list-style: none;
        }
        
        .nav-link {
            color: #fff;
            text-decoration: none;
            font-size: 15px;
            font-weight: 400;
            letter-spacing: 0.5px;
            position: relative;
            padding: 25px 0;
            transition: opacity 0.3s ease;
        }
        
        .nav-link:hover {
            opacity: 0.7;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: #fff;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: scaleX(0);
            }
            to {
                transform: scaleX(1);
            }
        }
        /* ─── Content Sections ─── */
        
        .content {
            padding-top: 70px;
        }
        
        .page-section {
            display: none;
            min-height: 100vh;
            padding: 80px 40px;
            animation: fadeIn 0.5s ease;
        }
        
        .page-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* ─── About / Discord Card ─── */
        
        .about-container {
            max-width: 900px;
            margin: 0 auto;
            padding-top: 60px;
        }
        
        .discord-card {
            background: linear-gradient(180deg, rgba(50, 50, 50, 0.3) 0%, rgba(20, 20, 20, 0.5) 100%);
            border-radius: 16px;
            padding: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .discord-header {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .discord-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: #333;
            position: relative;
            flex-shrink: 0;
            overflow: visible;
        }
        
        .discord-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: block;
            border: 4px solid rgba(20, 20, 20, 0.5);
        }
        /* avatar fallback */
        
        .discord-avatar .avatar-fallback {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #2a2a2a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: 700;
            color: #555;
        }
        
        .status-indicator {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 4px solid rgba(20, 20, 20, 0.9);
            background: #747f8d;
            z-index: 2;
            transition: background 0.3s ease;
        }
        
        .status-indicator.online {
            background: #23a559;
        }
        
        .status-indicator.idle {
            background: #f0b232;
        }
        
        .status-indicator.dnd {
            background: #f23f43;
        }
        
        .status-indicator.offline {
            background: #747f8d;
        }
        
        .discord-info {
            flex: 1;
        }
        
        .discord-name {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .discord-username {
            font-size: 16px;
            color: #b5bac1;
            margin-bottom: 10px;
        }
        
        .custom-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            font-size: 14px;
            color: #ccc;
        }
        
        .custom-status .emoji {
            font-size: 18px;
        }
        
        .discord-status {
            font-size: 14px;
            color: #888;
            margin-bottom: 15px;
            min-height: 20px;
        }
        
        .discord-badges {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
            align-items: center;
            background: rgba(255, 255, 255, 0.03);
            padding: 8px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            width: fit-content;
            margin-top: 15px;
        }
        
        .badge.discord-badge {
            background: transparent;
            padding: 0;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            transition: all 0.2s ease;
            position: relative;
            display: inline-flex;
            align-items: center;
        }
        
        .badge.discord-badge:hover {
            transform: scale(1.2);
        }
        
        .badge.discord-badge img {
            width: 22px;
            height: 22px;
            display: block;
        }
        
        .badge.discord-badge::after {
            content: attr(title);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-8px);
            background: rgba(0, 0, 0, 0.95);
            color: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
            z-index: 1000;
        }
        
        .badge.discord-badge:hover::after {
            opacity: 1;
            transform: translateX(-50%) translateY(-12px);
        }
        /* ─── Bio ─── */
        
        .about-bio {
            margin-top: 30px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .bio-title {
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin-bottom: 15px;
        }
        
        .bio-text {
            font-size: 16px;
            line-height: 1.6;
            color: #ccc;
        }
        /* ─── Social Links ─── */
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .social-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            font-size: 13px;
            transition: all 0.2s ease;
        }
        
        .social-link:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        .social-icon {
            width: 18px;
            height: 18px;
        }
        
        .social-link img.social-icon {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }
        
        .social-username {
            color: #888;
            font-size: 12px;
        }
        /* ─── Projects Section ─── */
        
        .projects-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .skills-header {
            margin-bottom: 30px;
        }
        
        .skills-title {
            font-size: 18px;
            font-weight: 600;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }
        
        .skills-display {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .skill-badge {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            font-size: 14px;
            color: #fff;
            transition: all 0.2s ease;
        }
        
        .skill-badge:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .skill-badge svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .project-card {
            background: linear-gradient(180deg, rgba(50, 50, 50, 0.3) 0%, rgba(20, 20, 20, 0.5) 100%);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            text-decoration: none;
            color: #fff;
            display: block;
        }
        
        .project-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .project-banner {
            width: 100%;
            height: 140px;
            background-size: cover;
            background-position: center;
            background-color: #222;
            position: relative;
        }
        
        .project-banner::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(transparent, rgba(20, 20, 20, 0.9));
        }
        
        .project-content {
            padding: 20px;
        }
        
        .project-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .project-icon-large {
            width: 60px;
            height: 60px;
            min-width: 60px;
            border-radius: 12px;
            background-size: cover;
            background-position: center;
            background-color: #333;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .project-title-area {
            flex: 1;
        }
        
        .project-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .project-type {
            font-size: 12px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .project-description {
            font-size: 14px;
            line-height: 1.6;
            color: #aaa;
            margin-bottom: 15px;
        }
        
        .project-stats {
            display: flex;
            gap: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .project-stat {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: #888;
        }
        
        .project-stat svg {
            width: 16px;
            height: 16px;
        }
        /* ─── Music Section ─── */
        
        .music-container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .music-category {
            margin-bottom: 80px;
        }
        
        .category-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: -1px;
        }
        /* Desktop vinyl gallery */
        
        .vinyl-gallery {
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            gap: 5px;
            perspective: 1000px;
            padding: 20px 0;
            overflow-x: auto;
        }
        
        .vinyl {
            perspective: 500px;
            min-width: 20px;
            width: 20px;
            transition: width 0.5s ease, min-width 0.5s ease;
            position: relative;
        }
        
        .vinyl:hover {
            width: 160px;
            min-width: 160px;
        }
        
        .vinyl img {
            width: 180px;
            height: 180px;
            object-fit: cover;
            transform: rotateY(25deg);
            transform-style: preserve-3d;
            border-radius: 4px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.8);
            transition: all 0.5s ease;
            /* image error fallback handled via JS */
        }
        
        .vinyl:hover img {
            transform: rotateY(10deg) scale(1.05);
            width: 188px;
            height: 188px;
            margin-top: -4px;
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 30px rgba(255, 255, 255, 0.2);
        }
        
        .vinyl-info {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-size: 12px;
            text-align: center;
            max-width: 180px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            pointer-events: none;
            white-space: nowrap;
        }
        
        .vinyl:hover .vinyl-info {
            opacity: 1;
            visibility: visible;
        }
        
        .artist-name {
            font-weight: 600;
            display: block;
        }
        
        .album-name {
            font-size: 11px;
            color: #bbb;
            display: block;
        }
        /* Mobile vinyl gallery — horizontal scroll of full thumbnails */
        
        @media (hover: none) and (pointer: coarse) {
            .vinyl-gallery {
                gap: 12px;
                overflow-x: auto;
                padding: 10px 0 20px;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
            }
            .vinyl-gallery::-webkit-scrollbar {
                display: none;
            }
            .vinyl {
                min-width: 130px;
                width: 130px;
                flex-shrink: 0;
            }
            .vinyl img {
                width: 130px;
                height: 130px;
                transform: none;
                border-radius: 8px;
                border: 2px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            }
            .vinyl-info {
                opacity: 1;
                visibility: visible;
                position: relative;
                transform: none;
                left: auto;
                bottom: auto;
                margin-top: 8px;
                white-space: normal;
                text-align: left;
                max-width: 130px;
            }
        }
        /* ─── Modal ─── */
        
        .vinyl-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0);
            backdrop-filter: blur(0px);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.4s ease, background 0.4s ease, backdrop-filter 0.4s ease;
        }
        
        .vinyl-modal.show {
            display: flex !important;
            opacity: 1;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
        }
        
        .modal-content {
            background: linear-gradient(145deg, #1a1a1a 0%, #0a0a0a 100%);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            position: relative;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.9), 0 0 50px rgba(255, 255, 255, 0.05);
            transform: scale(0.8) translateY(50px);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
        }
        
        .vinyl-modal.show .modal-content {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        
        .vinyl-modal.closing {
            opacity: 0 !important;
            background: rgba(0, 0, 0, 0) !important;
            backdrop-filter: blur(0px) !important;
            transition: opacity 0.3s ease, background 0.3s ease, backdrop-filter 0.3s ease !important;
        }
        
        .vinyl-modal.closing .modal-content {
            transform: scale(0.8) translateY(50px) !important;
            opacity: 0 !important;
            transition: transform 0.3s ease, opacity 0.3s ease !important;
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 35px;
            color: #fff;
            line-height: 1;
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.3s ease, color 0.2s ease;
            font-weight: 300;
        }
        
        .modal-close:hover {
            transform: rotate(90deg) scale(1.1);
            opacity: 0.7;
            color: #ff4444;
        }
        
        .modal-image {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            border-radius: 12px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7);
            background: #1a1a1a;
        }
        
        .modal-info {
            margin-top: 30px;
            text-align: center;
        }
        
        .modal-title {
            font-size: 22px;
            color: #fff;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .modal-artist {
            font-size: 16px;
            color: #888;
            margin-bottom: 25px;
            font-weight: 400;
        }
        
        .modal-player {
            width: 100%;
            height: 80px;
            border: none;
            border-radius: 12px;
            overflow: hidden;
            margin-top: 20px;
        }
        
        .youtube-player-wrapper {
            margin-top: 30px;
        }
        
        .youtube-player-wrapper iframe {
            border-radius: 12px;
        }
        /* ─── Contact Section ─── */
        
        .contact-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            padding-top: 100px;
        }
        
        .contact-title {
            font-size: 48px;
            font-weight: 600;
            margin-bottom: 30px;
            letter-spacing: -1px;
        }
        
        .contact-text {
            font-size: 18px;
            color: #888;
            line-height: 1.6;
        }
        /* ─── Mobile Global ─── */
        
        @media (max-width: 768px) {
            #terminal {
                font-size: 14px;
                padding: 20px;
                width: 95%;
            }
            .logo {
                font-size: 60px;
                margin-bottom: 40px;
                letter-spacing: 4px;
            }
            .loading-bar-container {
                width: 280px;
            }
            .loading-text {
                font-size: 11px;
            }
            .nav-links {
                gap: 25px;
            }
            .nav-link {
                font-size: 13px;
            }
            .discord-header {
                flex-direction: column;
                text-align: center;
            }
            .discord-avatar {
                width: 100px;
                height: 100px;
            }
            .discord-name {
                font-size: 24px;
            }
            .category-title {
                font-size: 22px;
            }
            .page-section {
                padding: 60px 20px;
            }
            .modal-content {
                padding: 30px 20px;
            }
        }
    </style>
</head>

<body>
    <div id="customCursor"></div>
    <div class="flash" id="flash"></div>
    <div id="terminal"></div>

    <div id="loadingScreen">
        <div class="logo">SKULLAF</div>
        <div class="loading-bar-container">
            <div class="loading-bar"></div>
        </div>
        <div class="loading-text">Initializing</div>
    </div>

    <div id="profile">

        <header class="header">
            <div class="nav-container">
                <nav>
                    <ul class="nav-links">
                        <li><a class="nav-link active" data-section="about">About</a></li>
                        <li><a class="nav-link" data-section="projects">Projects</a></li>
                        <li><a class="nav-link" data-section="music">Music</a></li>
                        <li><a class="nav-link" data-section="contact">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="content">

            <!-- ABOUT -->
            <section class="page-section active" data-section="about">
                <div class="about-container">
                    <div class="discord-card">
                        <div class="discord-header">
                            <div class="discord-avatar" id="discordAvatar">
                                <div class="avatar-fallback">S</div>
                                <div class="status-indicator" id="statusIndicator"></div>
                            </div>
                            <div class="discord-info">
                                <div class="discord-name" id="discordDisplayName">skullaf_</div>
                                <div class="discord-username" id="discordUsername">@skullaf_</div>
                                <div class="discord-status" id="discordStatus"></div>
                                <div class="custom-status" id="customStatus" style="display:none;"></div>
                                <div class="discord-badges" id="discordBadges"></div>
                            </div>
                        </div>

                        <div class="about-bio">
                            <div class="bio-title">About Me</div>
                            <p class="bio-text">
                                Multi-instrumentalist, Programmer, and Structural Engineer. There's nothing much to know about me, thank you for your attention.
                            </p>

                            <div class="social-links" id="socialLinks">
                                <a href="https://open.spotify.com/user/31fwmmyahia2yv2ogadxdxr4fv74" target="_blank" class="social-link">
                                    <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"/></svg>
                                    <span>Spotify</span>
                                    <span class="social-username">• @skullaf</span>
                                </a>

                                <a href="https://www.roblox.com/users/1697136591/profile" target="_blank" class="social-link">
                                    <img src="https://imgs.search.brave.com/HOrhdQODI22KU21BOQegsgwAxSS_NuUfJ3CrwEoP5y4/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93d3cu/Y2l0eXBuZy5jb20v/cHVibGljL3VwbG9h/ZHMvcHJldmlldy9o/ZC1yb2Jsb3gtd2hp/dGUtc3ltYm9sLXNp/Z24taWNvbi1sb2dv/LXBuZy03MDE3NTE2/OTQ3ODc0MzVyYTFy/MmRlc2k4LnBuZz92/PTIwMjYwMjE0MDA"
                                        alt="Roblox" class="social-icon">
                                    <span>Roblox</span>
                                    <span class="social-username">• @SMGTTYY</span>
                                </a>

                                <a href="https://discord.com/app" target="_blank" class="social-link">
                                    <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
                                    <span>Discord</span>
                                    <span class="social-username">• @skullaf_</span>
                                </a>

                                <a href="https://tiktok.com/@skullaf" target="_blank" class="social-link">
                                    <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
                                    <span>TikTok</span>
                                    <span class="social-username">• @skullaf</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PROJECTS -->
            <section class="page-section" data-section="projects">
                <div class="projects-container">
                    <div class="skills-header">
                        <h3 class="skills-title">My Skills</h3>
                        <div class="skills-display" id="skillsDisplay"></div>
                    </div>
                    <div id="projectsContainer"></div>
                </div>
            </section>

            <!-- MUSIC -->
            <section class="page-section" data-section="music">
                <div class="music-container" id="musicContainer"></div>
            </section>

            <!-- CONTACT -->
            <section class="page-section" data-section="contact">
                <div class="contact-container">
                    <h2 class="contact-title">Get in Touch</h2>
                    <p class="contact-text">
                        Feel free to reach out for collaborations, projects, or just to talk about music and code.
                    </p>
                    <div class="social-links" style="justify-content: center; margin-top: 40px;">
                        <a href="https://discord.com/app" target="_blank" class="social-link">
                            <svg class="social-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/></svg>
                            <span>Discord</span>
                            <span class="social-username">• @skullaf_</span>
                        </a>
                    </div>
                </div>
            </section>

        </div>
        <!-- /.content -->

        <!-- VINYL MODAL -->
        <div class="vinyl-modal" id="vinylModal">
            <div class="modal-content">
                <span class="modal-close" id="modalClose">×</span>
                <img class="modal-image" id="modalImage" src="" alt="">
                <div class="modal-info">
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <h3 class="modal-artist" id="modalArtist"></h3>
                    <div class="youtube-player-wrapper"></div>
                </div>
            </div>
        </div>

    </div>
    <!-- /#profile -->

    <script>
        // ─── Data ──────────────────────────────────────────────────────────────────

        const skillsData = [{
            name: "Web Development",
            icon: `<svg fill="currentColor" viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4zm-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"/></svg>`
        }, {
            name: "App Development",
            icon: `<svg fill="currentColor" viewBox="0 0 24 24"><path d="M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"/></svg>`
        }, {
            name: "Game Development",
            icon: `<svg fill="currentColor" viewBox="0 0 24 24"><path d="M21.58 16.09l-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91zM11 11H9v2H8v-2H6v-1h2V8h1v2h2v1zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>`
        }, {
            name: "Reverse Engineering",
            icon: `<svg fill="currentColor" viewBox="0 0 24 24"><path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"/></svg>`
        }, {
            name: "Community Management",
            icon: `<svg fill="currentColor" viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>`
        }, ];

        const musicData = {
            "Black Metal": [{
                artist: "Burzum",
                album: "Det Som Engang Var",
                image: "https://upload.wikimedia.org/wikipedia/en/8/8f/Burzum_-_1993_-_Det_Som_Engang_Var.jpg",
                spotify: "spotify:album:2PRrYZA1UypzKrk8TC9j25",
                isOnSpotify: true
            }, {
                artist: "Mutiilation",
                album: "Hail Satanas We Are the Black Legions",
                image: "https://is1-ssl.mzstatic.com/image/thumb/Music/v4/72/41/f2/7241f2a7-2639-396c-5a22-ded24f7f81cc/cover.jpg/600x600bf-60.jpg",
                spotify: "spotify:album:1js7jI1l2qa1DrnBdl5bbw",
                isOnSpotify: true
            }, {
                artist: "Xasthur",
                album: "Telepathic with the Deceased",
                image: "https://i.scdn.co/image/ab67616d0000b273ec74ef216bbef83cda4d0f72",
                spotify: "spotify:album:2p1lXpXsRsNYSCElUPq7hG",
                isOnSpotify: true
            }, {
                artist: "Ash Pool",
                album: "World Turns On Its Hinge",
                image: "https://is1-ssl.mzstatic.com/image/thumb/Music/2d/b4/4f/mzi.dfiyqvhm.jpg/600x600bf-60.jpg",
                spotify: "spotify:album:0Vkm07JNP981gGBA7Og4ft",
                isOnSpotify: true
            }, {
                artist: "Grand Belial's Key",
                album: "Mocking the Philanthropist",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRX5HvIrcimBB9M4oMILaPaI2odv9RcqnRVFA&s",
                spotify: "spotify:album:1eQXUKP7qX5mJvGVZ8qH6q",
                isOnSpotify: false
            }, {
                artist: "Leviathan",
                album: "The Tenth Sub Level of Suicide",
                image: "https://i.scdn.co/image/ab67616d0000b273861198fa50f61d14aeb51a29",
                spotify: "spotify:album:1a08Kc3CmrsUbCxEibttUx",
                isOnSpotify: true
            }, {
                artist: "Abruptum",
                album: "Evil Genius",
                image: "https://i.scdn.co/image/ab67616d00001e02ca3b248448d2354a9c073066",
                spotify: "spotify:album:3d7B1DVbvefdMUFBgBArZe",
                isOnSpotify: true
            }, {
                artist: "Judas Iscariot",
                album: "The Cold Earth Slept Below",
                image: "https://f4.bcbits.com/img/a1412734578_10.jpg",
                spotify: "spotify:album:0qGPqz54Qf6iFgx1XYwShQ",
                isOnSpotify: true
            }, {
                artist: "Akitsa",
                album: "La Grand Infamie",
                image: "https://f4.bcbits.com/img/a3994907258_16.jpg",
                spotify: "spotify:album:034W1CrITf4AEAnBczngAB",
                isOnSpotify: true
            }, {
                artist: "Emit",
                album: "The Dark Bleeding",
                image: "https://cdn-images.dzcdn.net/images/cover/5cfd13546f98d96a3c2a1bf8c07f25bf/0x1900-000000-80-0-0.jpg",
                spotify: "spotify:album:40XKOdZbNsqpCXdPomKUPa",
                isOnSpotify: true
            }, {
                artist: "Peste Noire",
                album: "La Sanie Des Siecles",
                image: "https://m.media-amazon.com/images/I/81w7S5PSHfL._UF1000,1000_QL80_.jpg",
                spotify: "spotify:album:2nNqO5JlQQVXPUHDWm7YY7",
                isOnSpotify: false
            }, {
                artist: "Nachzehrer",
                album: "Misanthropie",
                image: "https://f4.bcbits.com/img/a1291453493_16.jpg",
                spotify: "spotify:album:2KvGyZ76IXXNU1HU5sWnvW",
                isOnSpotify: true
            }, {
                artist: "Belathauzer",
                album: "Belathauzer",
                image: "https://i.scdn.co/image/ab67616d00001e022c9bad23f860db20c1e53da7",
                spotify: "spotify:album:4utUDi0K3QVVDPnWJ9srlO",
                isOnSpotify: true
            }, {
                artist: "Grausamkeit",
                album: "Fucking Goat Horness!",
                image: "https://i.scdn.co/image/ab67616d0000b273afeefd80826b8613bb7dc6b4",
                spotify: "spotify:album:0A3vBXYD5Rsarb57H4qEsO",
                isOnSpotify: true
            }, {
                artist: "Burzum",
                album: "Aske",
                image: "https://i.scdn.co/image/ab67616d0000b273ffab1b7c7edbeded01672dc1",
                spotify: "spotify:album:7jNMp21UgVecBFtn2qloJM",
                isOnSpotify: true
            }, {
                artist: "Wagner Ödegård",
                album: "Om undergång och de tretton järtekn",
                image: "https://i.scdn.co/image/ab67616d0000b273a620df7efcd1590928554536",
                spotify: "spotify:album:0OWCzIB0tiNocAyaMA8bKp",
                isOnSpotify: true
            }, {
                artist: "Bethlehem",
                album: "Bethlehem",
                image: "https://i.scdn.co/image/ab67616d0000b273393273d58314379d507125e8",
                spotify: "spotify:album:0sPOVlNOuF1kgFURLLxmKe",
                isOnSpotify: true
            }, ],
            "War Metal": [{
                artist: "Revenge",
                album: "Attack.Blood.Revenge",
                image: "https://f4.bcbits.com/img/a2552042849_16.jpg",
                spotify: "spotify:album:5f1PxdEEJKF2Y1JLbRL6Hj",
                isOnSpotify: true
            }, {
                artist: "Damaar",
                album: "Triumph Through Spears of Sacrilege",
                image: "https://i.scdn.co/image/ab67616d0000b27349e916f79b818e2a6870dbe1",
                spotify: "spotify:album:2vD3zSQr8hNlg0obNel3y8",
                isOnSpotify: false
            }, {
                artist: "Blasphemy",
                album: "Fallen Angel of Doom",
                image: "https://f4.bcbits.com/img/a0064561049_10.jpg",
                spotify: "spotify:album:1Q2ejdiyusT1DLlDnggXp2",
                isOnSpotify: true
            }, ],
            "Other": [{
                artist: "Molchat Doma",
                album: "Etazhi",
                image: "https://imgs.search.brave.com/-XlFqceL_p2HAceMiKGLt4s7udoq0cMo-KfYyE1iCy0/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9sYXN0/Zm0uZnJlZXRscy5m/YXN0bHkubmV0L2kv/dS81MDB4NTAwL2I2/OTIyMmQwMTdkNjc1/MmJiN2U2ZmUyODVh/NmMwMTExLmpwZw",
                spotify: "spotify:album:1vPytXXwF0VXnof89Z91Pm",
                isOnSpotify: true
            }, ]
        };

        const FALLBACK_IMAGE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' fill='%23222'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23555' font-size='14' font-family='sans-serif'%3ENo Image%3C/text%3E%3C/svg%3E";

        const projectsData = [{
            name: "The Enclave",
            type: "Community",
            category: "community",
            description: "A server for alt people co-founded and managed by me.",
            banner: "https://cdn.discordapp.com/splashes/1284296921653182484/93d225b6d079d82b95e03eb32dca0045.jpg?size=3072",
            icon: "https://cdn.discordapp.com/icons/1284296921653182484/e036817ec040394ebce7b45ac26525a2.webp?size=80&quality=lossless",
            link: "https://discord.gg/udg76NBr",
            stats: {
                members: "202",
                online: "32"
            }
        }, {
            name: "Valkyrie Anti-Cheat",
            type: "Reverse Engineering",
            category: "reverse",
            description: "Legacy anti-cheat system for Roblox I originally co-founded. Pioneered exploit detection, memory protection, and behavioral analysis protecting 120+ games with 50K+ detections before retiring development.",
            banner: "https://devforum-uploads.s3.dualstack.us-east-2.amazonaws.com/uploads/optimized/5X/5/9/5/a/595a290a19d7582406c54f38d0425ac1ace839af_2_690x252.jpeg",
            icon: "https://devforum-uploads.s3.dualstack.us-east-2.amazonaws.com/uploads/original/5X/3/b/a/f/3bafee16e93dc3abde95cb1dbaa7abb05470b869.jpeg",
            link: "https://github.com/skullaf/Valkyrie-AC",
            stats: {
                protected: "120+",
                detections: "50K+"
            }
        }, {
            name: "GeoTrace",
            type: "Web Tool / Python",
            category: "tool",
            description: "IP geolocation tool that approximates physical location, ISP, org, and connection metadata from any IP address. Includes a web UI and a Python CLI script.",
            banner: "https://ibb.co/GQPN60wX",
            icon: "https://ibb.co/yFVsrmSk",
            link: "https://skullaf.github.io/Geotrace.github.io/",
            stats: {
                type: "Open Source",
                stack: "Python + JS"
            }
        }];

        // ─── Cursor ────────────────────────────────────────────────────────────────
        const customCursor = document.getElementById('customCursor');
        let mouseX = 0,
            mouseY = 0,
            cursorX = 0,
            cursorY = 0;
        const isTouchDevice = window.matchMedia('(hover: none) and (pointer: coarse)').matches;

        if (!isTouchDevice) {
            document.addEventListener('mousemove', e => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            });
            document.addEventListener('mousedown', () => customCursor.classList.add('clicking'));
            document.addEventListener('mouseup', () => customCursor.classList.remove('clicking'));

            (function animateCursor() {
                cursorX += (mouseX - cursorX) * 0.15;
                cursorY += (mouseY - cursorY) * 0.15;
                customCursor.style.left = `${cursorX - 4}px`;
                customCursor.style.top = `${cursorY - 4}px`;
                requestAnimationFrame(animateCursor);
            })();
        }

        // ─── Terminal Intro ────────────────────────────────────────────────────────
        const terminal = document.getElementById('terminal');
        const flash = document.getElementById('flash');
        const loadingScreen = document.getElementById('loadingScreen');
        const profile = document.getElementById('profile');

        function playTypingSound() {
            try {
                const ctx = new(window.AudioContext || window.webkitAudioContext)();
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.frequency.value = 1000 + Math.random() * 200;
                osc.type = 'square';
                gain.gain.setValueAtTime(0.03, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.03);
                osc.start();
                osc.stop(ctx.currentTime + 0.03);
            } catch (e) {}
        }

        function playCameraFlash() {
            try {
                const ctx = new(window.AudioContext || window.webkitAudioContext)();
                const bufferSize = ctx.sampleRate * 0.4;
                const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
                const data = buffer.getChannelData(0);
                for (let i = 0; i < bufferSize; i++) {
                    const t = i / ctx.sampleRate;
                    let amp = 0;
                    if (t < 0.05) amp = Math.exp(-t * 40) * (Math.random() * 2 - 1) * 0.6;
                    else if (t > 0.1 && t < 0.15) amp = Math.exp(-(t - 0.1) * 35) * (Math.random() * 2 - 1) * 0.5;
                    data[i] = amp;
                }
                const src = ctx.createBufferSource();
                src.buffer = buffer;
                const gain = ctx.createGain();
                const flt = ctx.createBiquadFilter();
                src.connect(flt);
                flt.connect(gain);
                gain.connect(ctx.destination);
                flt.type = 'highpass';
                flt.frequency.value = 200;
                gain.gain.setValueAtTime(0.5, ctx.currentTime);
                src.start();
            } catch (e) {}
        }

        const command = `python -m webbrowser "https://skullaf.github.io"`;

        function startTyping() {
            const line = document.createElement('div');
            line.className = 'line';
            const prompt = document.createElement('span');
            prompt.className = 'prompt';
            prompt.textContent = 'C:\\Users\\Skullaf> ';
            const cmd = document.createElement('span');
            cmd.className = 'command-text';
            const caret = document.createElement('span');
            caret.className = 'caret';
            line.append(prompt, cmd, caret);
            terminal.appendChild(line);

            let i = 0;
            (function type() {
                if (i < command.length) {
                    playTypingSound();
                    cmd.textContent = command.substring(0, ++i);
                    setTimeout(type, Math.random() * 15 + 40);
                } else {
                    setTimeout(() => {
                        playCameraFlash();
                        flash.classList.add('active');
                        terminal.style.opacity = '0';
                        setTimeout(() => {
                            terminal.style.display = 'none';
                            loadingScreen.classList.add('show');
                        }, 150);
                        setTimeout(() => {
                            loadingScreen.style.display = 'none';
                            profile.classList.add('active');
                            // Start Discord polling only after profile is visible
                            updateDiscordStatus();
                            discordInterval = setInterval(updateDiscordStatus, 3000);
                            generateSkills();
                            generateProjects();
                            generateMusicCategories();
                        }, 2900);
                    }, 1000);
                }
            })();
        }

        // ─── Discord Status ────────────────────────────────────────────────────────
        const DISCORD_ID = '1070769895589019780';
        let previousData = null;
        let discordInterval = null;

        async function updateDiscordStatus() {
            try {
                const res = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_ID}`);
                const data = await res.json();
                if (!data.success) return;

                const discord = data.data;

                // First load: set static info
                if (!previousData) {
                    const avatarHash = discord.discord_user.avatar;
                    const ext = avatarHash && avatarHash.startsWith('a_') ? 'gif' : 'png';
                    const avatarUrl = avatarHash ?
                        `https://cdn.discordapp.com/avatars/${DISCORD_ID}/${avatarHash}.${ext}?size=256` :
                        null;

                    const avatarContainer = document.getElementById('discordAvatar');
                    const statusEl = document.getElementById('statusIndicator');
                    avatarContainer.innerHTML = '';

                    if (avatarUrl) {
                        const img = document.createElement('img');
                        img.src = avatarUrl;
                        img.alt = 'Avatar';
                        img.onerror = () => {
                            avatarContainer.innerHTML = '<div class="avatar-fallback">S</div>';
                            avatarContainer.appendChild(statusEl);
                        };
                        avatarContainer.appendChild(img);
                    } else {
                        avatarContainer.innerHTML = '<div class="avatar-fallback">S</div>';
                    }
                    avatarContainer.appendChild(statusEl);

                    const displayName = discord.discord_user.global_name || discord.discord_user.username;
                    document.getElementById('discordDisplayName').textContent = displayName;
                    document.getElementById('discordUsername').textContent = `@${discord.discord_user.username}`;

                    buildBadges(discord);
                }

                // Always update: status indicator, activity, custom status
                document.getElementById('statusIndicator').className = `status-indicator ${discord.discord_status}`;

                const customStatusEl = document.getElementById('customStatus');
                const customAct = discord.activities.find(a => a.type === 4);
                if (customAct) {
                    let html = '';
                    if (customAct.emoji) {
                        html += customAct.emoji.id ?
                            `<img class="emoji" src="https://cdn.discordapp.com/emojis/${customAct.emoji.id}.${customAct.emoji.animated ? 'gif' : 'png'}?size=24" alt="emoji">` :
                            `<span class="emoji">${customAct.emoji.name}</span>`;
                    }
                    html += `<span>${customAct.state || ''}</span>`;
                    customStatusEl.innerHTML = html;
                    customStatusEl.style.display = 'flex';
                } else {
                    customStatusEl.style.display = 'none';
                }

                const statusEl = document.getElementById('discordStatus');
                const realActs = discord.activities.filter(a => a.type !== 4);
                if (discord.listening_to_spotify) {
                    statusEl.innerHTML = `🎵 Listening to <strong>${discord.spotify.song}</strong> by <strong>${discord.spotify.artist}</strong>`;
                    statusEl.style.display = 'block';
                } else if (realActs.length > 0) {
                    const act = realActs[0];
                    const typeMap = {
                        0: `🎮 Playing`,
                        2: `🎵 Listening to`,
                        3: `📺 Watching`,
                        5: `🏆 Competing in`
                    };
                    const prefix = typeMap[act.type] || '';
                    statusEl.innerHTML = prefix ? `${prefix} <strong>${act.name}</strong>` : act.name;
                    statusEl.style.display = 'block';
                } else {
                    statusEl.style.display = 'none';
                }

                previousData = discord;
            } catch (e) {
                console.error('Discord status error:', e);
                document.getElementById('discordStatus').textContent = 'Status unavailable';
            }
        }

        function buildBadges(discord) {
            const container = document.getElementById('discordBadges');
            const flags = discord.discord_user.public_flags || 0;
            const badgeDefs = [
                [0, '5e74e9b61934fc1f67c65515d1f7e60d', 'Discord Staff'],
                [1, '3f9748e53446a137a052f3454e2de41e', 'Partnered Server Owner'],
                [2, 'bf01d1073931f921909045f3a39fd264', 'HypeSquad Events'],
                [3, '2717692c7dca7289b35297368a940dd0', 'Bug Hunter Level 1'],
                [6, '8a88d63823d8a71cd5e390baa45efa02', 'HypeSquad Bravery'],
                [7, '011940fd013da3f7fb926e4a1cd2e618', 'HypeSquad Brilliance'],
                [8, '3aa41de486fa12454c3761e8e223442e', 'HypeSquad Balance'],
                [9, '7060786766c9c840eb3019e725d2b358', 'Early Supporter'],
                [14, '848f79194d4be5ff5f81505cbd0ce1e6', 'Bug Hunter Level 2'],
                [17, '6bdc42827a38498929a4920da12695d9', 'Early Verified Bot Developer'],
                [18, 'fee1624003e2fee35cb398e125dc479b', 'Discord Certified Moderator'],
                [22, '6bdc42827a38498929a4920da12695d9', 'Active Developer'],
            ];

            let html = badgeDefs
                .filter(([bit]) => flags & (1 << bit))
                .map(([, icon, title]) => `
                <span class="badge discord-badge" title="${title}">
                    <img src="https://cdn.discordapp.com/badge-icons/${icon}.png" alt="${title}">
                </span>`)
                .join('');

            // Always-on badges
            html += `
            <span class="badge discord-badge" title="Completed a Discord Quest">
                <img src="https://cdn.discordapp.com/badge-icons/7d9ae358c8c5e118768335dbe68b4fb8.png" alt="Quest">
            </span>
            <span class="badge discord-badge" title="Active Developer">
                <img src="https://cdn.discordapp.com/badge-icons/6bdc42827a38498929a4920da12695d9.png" alt="Active Developer">
            </span>`;

            container.innerHTML = html;
        }

        // ─── Skills ────────────────────────────────────────────────────────────────
        function generateSkills() {
            const container = document.getElementById('skillsDisplay');
            if (!container) return;
            skillsData.forEach(skill => {
                const badge = document.createElement('div');
                badge.className = 'skill-badge';
                badge.innerHTML = `${skill.icon}<span>${skill.name}</span>`;
                container.appendChild(badge);
            });
        }

        // ─── Projects ──────────────────────────────────────────────────────────────
        function generateProjects() {
            const container = document.getElementById('projectsContainer');
            if (!container) return;
            const grid = document.createElement('div');
            grid.className = 'projects-grid';

            projectsData.forEach(project => {
                        const card = document.createElement('a');
                        card.className = 'project-card';
                        card.href = project.link;
                        card.target = '_blank';
                        card.dataset.category = project.category;

                        const statsKeys = Object.keys(project.stats);
                        card.innerHTML = `
                <div class="project-banner" style="${project.banner ? `background-image:url('${project.banner}')` : 'background:#1a1a1a'}"></div>
                <div class="project-content">
                    <div class="project-header">
                        <div class="project-icon-large" style="${project.icon ? `background-image:url('${project.icon}')` : 'background:#2a2a2a'}"></div>
                        <div class="project-title-area">
                            <div class="project-name">${project.name}</div>
                            <div class="project-type">${project.type}</div>
                        </div>
                    </div>
                    <div class="project-description">${project.description}</div>
                    <div class="project-stats">
                        ${statsKeys.map(k => `
                            <div class="project-stat">
                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                                <span>${project.stats[k]} ${k}</span>
                            </div>`).join('')}
                    </div>
                </div>`;
            grid.appendChild(card);
        });

        container.appendChild(grid);
    }

    // ─── Music ─────────────────────────────────────────────────────────────────
    function generateMusicCategories() {
        const container = document.getElementById('musicContainer');
        container.innerHTML = '';

        Object.keys(musicData).forEach(category => {
            const cat = document.createElement('div');
            cat.className = 'music-category';

            const title = document.createElement('h2');
            title.className = 'category-title';
            title.textContent = category;

            const gallery = document.createElement('div');
            gallery.className = 'vinyl-gallery';

            musicData[category].forEach(album => {
                const vinyl = document.createElement('div');
                vinyl.className = 'vinyl';
                Object.assign(vinyl.dataset, { artist: album.artist, album: album.album, spotify: album.spotify, isOnSpotify: album.isOnSpotify || false });

                const img = document.createElement('img');
                img.src = album.image;
                img.alt = album.artist;
                img.loading = 'lazy';
                img.onerror = () => { img.src = FALLBACK_IMAGE; };

                const info = document.createElement('div');
                info.className = 'vinyl-info';
                info.innerHTML = `<span class="artist-name">${album.artist}</span><span class="album-name">${album.album}</span>`;

                vinyl.append(img, info);
                gallery.appendChild(vinyl);
            });

            cat.append(title, gallery);
            container.appendChild(cat);
        });

        attachVinylHandlers();
    }

    // ─── Modal ─────────────────────────────────────────────────────────────────
    const modal        = document.getElementById('vinylModal');
    const modalClose   = document.getElementById('modalClose');
    const modalImage   = document.getElementById('modalImage');
    const modalTitle   = document.getElementById('modalTitle');
    const modalArtist  = document.getElementById('modalArtist');
    const playerWrap   = modal.querySelector('.youtube-player-wrapper');

    function attachVinylHandlers() {
        document.querySelectorAll('.vinyl').forEach(vinyl => {
            vinyl.addEventListener('click', () => openModal(vinyl));
        });
    }

    function openModal(vinyl) {
        const img = vinyl.querySelector('img');
        modalImage.src = img.src;
        modalImage.onerror = () => { modalImage.src = FALLBACK_IMAGE; };
        modalTitle.textContent = vinyl.dataset.album;
        modalArtist.textContent = vinyl.dataset.artist;

        if (vinyl.dataset.isOnSpotify === 'true') {
            const [, type, id] = vinyl.dataset.spotify.split(':');
            playerWrap.innerHTML = `
                <iframe style="border-radius:12px"
                    src="https://open.spotify.com/embed/${type}/${id}?utm_source=generator&theme=0"
                    width="100%" height="352" frameBorder="0"
                    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                    loading="lazy"></iframe>`;
        } else {
            playerWrap.innerHTML = `
                <div style="padding:30px;text-align:center;background:rgba(255,255,255,0.05);border-radius:12px;border:1px solid rgba(255,255,255,0.1);">
                    <p style="color:#888;font-size:16px;margin:0;">This album isn't on Spotify</p>
                </div>`;
        }

        modal.style.display = 'flex';
        modal.classList.remove('closing');
        modal.offsetHeight; // reflow
        requestAnimationFrame(() => modal.classList.add('show'));
    }

    function closeModal() {
        modal.classList.add('closing');
        setTimeout(() => {
            modal.classList.remove('show', 'closing');
            modal.style.display = 'none';
            playerWrap.innerHTML = '';
        }, 500);
    }

    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });
    document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

    // ─── Nav ───────────────────────────────────────────────────────────────────
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            link.classList.add('active');
            document.querySelector(`.page-section[data-section="${link.dataset.section}"]`).classList.add('active');
        });
    });

    // ─── Init ──────────────────────────────────────────────────────────────────
    window.addEventListener('load', () => setTimeout(startTyping, 500));
    </script>
</body>

</html>
